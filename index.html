<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoordeMaps - Sistema de Coordenadas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #1f2937; 
            transition: all 0.3s ease;
        }

        .dark body { 
            background: linear-gradient(135deg, #1e3a8a 0%, #1f2937 50%, #0f172a 100%); 
            color: #f8fafc; 
        }

        .dark #mainContentContainer, .dark #loginContainer { 
            background: linear-gradient(145deg, #1e293b 0%, #334155 100%); 
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
        }

        .navbar-glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card-glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-link {
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .social-icon {
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            transform: scale(1.1);
        }

        /* Estilos para aplica√ß√£o de mapeamento */
        .dark .form-input, .dark .form-select, .dark #themeSwitcher {
            background-color: #334155; border-color: #475569; color: #f8fafc;
        }
        .dark .form-input::placeholder { color: #cbd5e1; }
        .dark .form-input:focus, .dark .form-select:focus, .dark #themeSwitcher:focus {
            border-color: #3b82f6; box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
        }
        .dark .btn-primary { background-color: #3b82f6; }
        .dark .btn-primary:hover { background-color: #2563eb; }
        .dark .btn-secondary { background-color: #14b8a6; }
        .dark .btn-secondary:hover { background-color: #0d9488; }
        .dark .btn-tertiary { background-color: #64748b; color: white; } 
        .dark .btn-tertiary:hover { background-color: #475569; } 
        .dark .btn-tertiary:disabled { background-color: #334155; color: #64748b; } 
        .dark .btn-modal { background-color: #3b82f6; }
        .dark .btn-modal:hover { background-color: #2563eb; }
        .dark #resultsTable thead { background-color: #334155; }
        .dark #resultsTable tbody tr:nth-child(even) { background-color: #2c3a4f; }
        .dark #resultsTable tbody tr:hover { background-color: #475569; }
        .dark .modal-content { background-color: #1e293b; }
        .dark .leaflet-container { background-color: #334155; }
        .dark #fullscreenMapBtn { background-color: #334155; color: #f8fafc; }
        .dark #fullscreenMapBtn:hover { background-color: #475569; }
        .dark #printMapBtn { background-color: #334155; color: #f8fafc; }
        .dark #printMapBtn:hover { background-color: #475569; }

        .dark .loader { border-top-color: #3b82f6; border-color: #334155; border-top-color: #3b82f6;}

        .theme-selector-fixed {
            position: fixed !important;
            top: 20px !important;
            right: 20px !important;
            z-index: 99999 !important;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 8px 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transform: none !important;
            will-change: auto;
        }

        .dark .theme-selector-fixed {
            background: rgba(30, 41, 59, 0.95);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .theme-toggle-button-fixed {
            position: fixed !important;
            top: 20px !important;
            right: 20px !important;
            z-index: 100000 !important;
            transform: none !important;
            will-change: auto;
        }

        /* Estilos para o v√≠deo de demonstra√ß√£o */
        .demo-container {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }

        .demo-typing {
            height: 20px;
        }

        .typing-text {
            font-family: monospace;
            color: #4f46e5;
            font-weight: 600;
        }

        .cursor {
            animation: blink 1s infinite;
            color: #4f46e5;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .demo-map {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 50%, #6ee7b7 100%);
            position: relative;
        }

        .point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #ef4444;
            border: 2px solid white;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            opacity: 0;
            transform: scale(0);
        }

        .point-center {
            background: #fbbf24;
            width: 16px;
            height: 16px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            z-index: 10;
        }

        .point-1 { top: 30%; left: 25%; }
        .point-2 { top: 20%; right: 30%; }
        .point-3 { bottom: 35%; left: 20%; }
        .point-4 { bottom: 25%; right: 25%; }
        .point-5 { top: 60%; left: 70%; }

        .demo-radius-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 180px;
            height: 180px;
            border: 3px solid #3b82f6;
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            background: rgba(59, 130, 246, 0.1);
        }

        .demo-result-item {
            height: 8px;
            background: linear-gradient(90deg, #e5e7eb 0%, #d1d5db 100%);
            border-radius: 4px;
            margin-bottom: 6px;
            width: 0%;
            opacity: 0;
        }

        .demo-result-item:nth-child(1) { width: 85%; }
        .demo-result-item:nth-child(2) { width: 75%; }
        .demo-result-item:nth-child(3) { width: 90%; }

        /* Anima√ß√µes em sequ√™ncia */
        .demo-scene {
            animation: demoSequence 12s infinite;
        }

        @keyframes demoSequence {
            /* Fase 1: Digita√ß√£o */
            0% { }
            5% { }
            
            /* Fase 2: Mostrar c√≠rculo */
            15% { }
            20% { }
            
            /* Fase 3: Mostrar pontos */
            25% { }
            40% { }
            
            /* Fase 4: Mostrar resultados */
            50% { }
            70% { }
            
            /* Fase 5: Reset */
            85% { }
            100% { }
        }

        /* Anima√ß√£o da digita√ß√£o */
        .typing-text::after {
            content: '';
            animation: typeText 12s infinite;
        }

        @keyframes typeText {
            0%, 5% { content: ''; }
            8% { content: '-'; }
            10% { content: '-2'; }
            12% { content: '-22'; }
            14% { content: '-22.'; }
            16% { content: '-22.9'; }
            18% { content: '-22.90'; }
            20% { content: '-22.906'; }
            22% { content: '-22.9068'; }
            24% { content: '-22.9068,'; }
            26% { content: '-22.9068, '; }
            28% { content: '-22.9068, -'; }
            30% { content: '-22.9068, -4'; }
            32% { content: '-22.9068, -43'; }
            34% { content: '-22.9068, -43.'; }
            36% { content: '-22.9068, -43.1'; }
            38% { content: '-22.9068, -43.17'; }
            40% { content: '-22.9068, -43.172'; }
            42% { content: '-22.9068, -43.1729'; }
            85%, 100% { content: '-22.9068, -43.1729'; }
        }

        /* Anima√ß√£o do c√≠rculo */
        .demo-radius-circle {
            animation: showCircle 12s infinite;
        }

        @keyframes showCircle {
            0%, 15% { 
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
            20% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.6;
            }
            85% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.6;
            }
            90%, 100% { 
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
        }

        /* Anima√ß√£o dos pontos */
        .point-center {
            animation: showPointCenter 12s infinite;
        }

        @keyframes showPointCenter {
            0%, 22% { 
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
            25% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            85% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            90%, 100% { 
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
        }

        .point-1 { animation: showPoint1 12s infinite; }
        .point-2 { animation: showPoint2 12s infinite; }
        .point-3 { animation: showPoint3 12s infinite; }
        .point-4 { animation: showPoint4 12s infinite; }
        .point-5 { animation: showPoint5 12s infinite; }

        @keyframes showPoint1 {
            0%, 27% { transform: scale(0); opacity: 0; }
            30% { transform: scale(1); opacity: 1; }
            85% { transform: scale(1); opacity: 1; }
            90%, 100% { transform: scale(0); opacity: 0; }
        }

        @keyframes showPoint2 {
            0%, 29% { transform: scale(0); opacity: 0; }
            32% { transform: scale(1); opacity: 1; }
            85% { transform: scale(1); opacity: 1; }
            90%, 100% { transform: scale(0); opacity: 0; }
        }

        @keyframes showPoint3 {
            0%, 31% { transform: scale(0); opacity: 0; }
            34% { transform: scale(1); opacity: 1; }
            85% { transform: scale(1); opacity: 1; }
            90%, 100% { transform: scale(0); opacity: 0; }
        }

        @keyframes showPoint4 {
            0%, 33% { transform: scale(0); opacity: 0; }
            36% { transform: scale(1); opacity: 1; }
            85% { transform: scale(1); opacity: 1; }
            90%, 100% { transform: scale(0); opacity: 0; }
        }

        @keyframes showPoint5 {
            0%, 35% { transform: scale(0); opacity: 0; }
            38% { transform: scale(1); opacity: 1; }
            85% { transform: scale(1); opacity: 1; }
            90%, 100% { transform: scale(0); opacity: 0; }
        }

        /* Anima√ß√£o dos resultados */
        .demo-result-item:nth-child(1) { animation: showResult1 12s infinite; }
        .demo-result-item:nth-child(2) { animation: showResult2 12s infinite; }
        .demo-result-item:nth-child(3) { animation: showResult3 12s infinite; }

        @keyframes showResult1 {
            0%, 45% { width: 0%; opacity: 0; }
            50% { width: 85%; opacity: 1; }
            85% { width: 85%; opacity: 1; }
            90%, 100% { width: 0%; opacity: 0; }
        }

        @keyframes showResult2 {
            0%, 47% { width: 0%; opacity: 0; }
            52% { width: 75%; opacity: 1; }
            85% { width: 75%; opacity: 1; }
            90%, 100% { width: 0%; opacity: 0; }
        }

        @keyframes showResult3 {
            0%, 49% { width: 0%; opacity: 0; }
            54% { width: 90%; opacity: 1; }
            85% { width: 90%; opacity: 1; }
            90%, 100% { width: 0%; opacity: 0; }
        }

        /* Pausa a anima√ß√£o quando o usu√°rio passa o mouse */
        .demo-container:hover .demo-scene,
        .demo-container:hover .typing-text::after,
        .demo-container:hover .cursor,
        .demo-container:hover .demo-radius-circle,
        .demo-container:hover .point,
        .demo-container:hover .demo-result-item {
            animation-play-state: paused;
        }

        #loginContainer {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            backdrop-filter: blur(20px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.1);
        }

        #loginError {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border: 1px solid #f87171;
        }

        .dark #loginError {
            background: linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%);
            border-color: #dc2626;
            color: #fca5a5;
        }

        #map {
            height: 500px; width: 100%; border-radius: 20px; margin-bottom: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1), 0 0 0 1px rgba(255,255,255,0.1);
            cursor: crosshair;
            transition: all 0.3s ease;
        }
        #map:hover {
            transform: scale(1.01);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.2);
        }
        .leaflet-container { background-color: #e9ecef; }
        .loader {
            border: 5px solid #e9ecef; border-top: 5px solid #4f46e5; border-radius: 50%;
            width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 25px auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            overflow: auto; background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%); 
            margin: 10% auto; padding: 2rem; border: none; width: 90%;
            max-width: 600px; border-radius: 24px; 
            box-shadow: 0 25px 50px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.1); 
            text-align: center;
            backdrop-filter: blur(20px);
        }
        .modal-close {
            color: #777; float: right; font-size: 32px; font-weight: bold; transition: color 0.2s ease;
        }
        .modal-close:hover, .modal-close:focus { color: #333; text-decoration: none; cursor: pointer; }
        #mapContainer.fullscreen-map {
            position: fixed !important; top: 0 !important; left: 0 !important; width: 100vw !important;
            height: 100vh !important; z-index: 2000 !important; margin-bottom: 0 !important; padding: 0 !important;
        }
        #mapContainer.fullscreen-map #map { height: 100% !important; border-radius: 0 !important; margin-bottom: 0 !important; }
        #mapContainer.fullscreen-map #fullscreenMapBtn { top: 1rem !important; right: 1rem !important; z-index: 2001 !important; }

        #resultsTable {
            border-collapse: separate; border-spacing: 0; border-radius: 16px; overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        #resultsTable th, #resultsTable td { padding: 1rem 1.25rem; }
        #resultsTable thead { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
        }
        #resultsTable th { 
            font-weight: 600; 
            color: white; 
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.875rem;
        }
        #resultsTable tbody tr:nth-child(even) { 
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); 
        }
        #resultsTable tbody tr:hover { 
            background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%); 
            transform: scale(1.01);
            transition: all 0.2s ease;
        }

        .btn {
            padding: 0.875rem 2rem; border-radius: 12px; font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px 0 rgba(0,0,0,0.1), 0 2px 4px 0 rgba(0,0,0,0.06);
            border: none;
            position: relative;
            overflow: hidden;
        }
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        .btn:hover::before {
            left: 100%;
        }
        .btn:hover { 
            transform: translateY(-2px) scale(1.02); 
            box-shadow: 0 8px 25px 0 rgba(0,0,0,0.15), 0 4px 10px 0 rgba(0,0,0,0.1); 
        }
        .btn:active {
            transform: translateY(0) scale(0.98);
        }
        .btn:disabled {
            opacity: 0.6; cursor: not-allowed; transform: translateY(0) scale(1);
            box-shadow: 0 2px 4px 0 rgba(0,0,0,0.1);
        }
        .btn-secondary { 
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); 
            color: white; 
        }
        .btn-secondary:hover { 
            background: linear-gradient(135deg, #0f8a7c 0%, #32d66b 100%); 
        }
        .btn-tertiary { 
            background: linear-gradient(135deg, #8b9dc3 0%, #667eea 100%); 
            color: white; 
        } 
        .btn-tertiary:hover { 
            background: linear-gradient(135deg, #7d8fb1 0%, #5a6fd8 100%); 
        } 
        .btn-modal { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            padding: 0.75rem 1.5rem; 
        }
        .btn-modal:hover { 
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%); 
        }
        .form-input, .form-select {
            border-radius: 12px; 
            border: 2px solid #e5e7eb; 
            padding: 0.875rem 1rem;
            color: #1f2937; 
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .form-input:focus, .form-select:focus { 
            border-color: #667eea; 
            box-shadow: 0 0 0 4px rgba(102,126,234,0.1), 0 4px 12px rgba(102,126,234,0.15); 
            background: rgba(255,255,255,1);
            transform: translateY(-1px);
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Navigation (apenas vis√≠vel na aplica√ß√£o de navega√ß√£o) -->
    <nav id="mainNavigation" class="navbar-glass fixed top-0 left-0 right-0 z-50 p-4" style="display: none;">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl px-3 py-2 flex items-center space-x-2">
                    <div class="bg-white/20 rounded-md p-1">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="white"/>
                            <circle cx="12" cy="9" r="1.5" fill="#4F46E5"/>
                        </svg>
                    </div>
                    <h1 class="text-xl font-bold text-white">CoordeMaps</h1>
                </div>
            </div>

            <div class="hidden md:flex space-x-6">
                <button onclick="showSection('inicio')" class="nav-link px-4 py-2 rounded-lg text-white font-medium">
                    <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    In√≠cio
                </button>
                <button onclick="showSection('login')" class="nav-link px-4 py-2 rounded-lg text-white font-medium">
                    <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
                    </svg>
                    Logar
                </button>
                <button onclick="showSection('contato')" class="nav-link px-4 py-2 rounded-lg text-white font-medium">
                    <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                    Fale Conosco
                </button>
                <button onclick="showSection('redes')" class="nav-link px-4 py-2 rounded-lg text-white font-medium">
                    <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7Z"></path>
                    </svg>
                    Redes Sociais
                </button>
            </div>

            <button id="mobileMenuBtn" class="md:hidden text-white p-2 rounded-lg">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>

        <div id="mobileMenu" class="hidden md:hidden mt-4 space-y-2">
            <button onclick="showSection('inicio')" class="block w-full text-left nav-link px-4 py-2 rounded-lg text-white font-medium">In√≠cio</button>
            <button onclick="showSection('login')" class="block w-full text-left nav-link px-4 py-2 rounded-lg text-white font-medium">Logar</button>
            <button onclick="showSection('contato')" class="block w-full text-left nav-link px-4 py-2 rounded-lg text-white font-medium">Fale Conosco</button>
            <button onclick="showSection('redes')" class="block w-full text-left nav-link px-4 py-2 rounded-lg text-white font-medium">Redes Sociais</button>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main id="mainContentWrapper" class="pt-24 pb-12 px-4 min-h-screen">
        <!-- Se√ß√£o In√≠cio -->
        <section id="inicio" class="content-section active">
            <div class="container mx-auto max-w-4xl">
                <div class="card-glass rounded-3xl p-8 md:p-12 shadow-2xl text-center">
                    <div class="mb-8">
                        <div class="flex items-center justify-center mb-6">
                            <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl px-6 py-3 flex items-center space-x-3 shadow-2xl">
                                <div class="bg-white/20 rounded-lg p-2">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="white"/>
                                        <circle cx="12" cy="9" r="1.5" fill="#4F46E5"/>
                                    </svg>
                                </div>
                                <h1 class="text-3xl md:text-4xl font-bold text-white tracking-tight">CoordeMaps</h1>
                            </div>
                        </div>
                        <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed">
                            Sistema avan√ßado de coordenadas e mapeamento. Gerencie, visualize e analise dados geogr√°ficos com precis√£o e facilidade.
                        </p>
                        
                        <!-- V√≠deo de Apresenta√ß√£o -->
                        <div class="bg-white/70 backdrop-blur-lg rounded-2xl p-6 mb-8 max-w-4xl mx-auto">
                            <h3 class="text-2xl font-semibold text-gray-800 mb-4 text-center">üé• Veja como funciona</h3>
                            <div class="demo-container bg-gray-100 rounded-lg overflow-hidden shadow-lg">
                                <div class="demo-header bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white text-sm font-medium flex items-center justify-between">
                                    <span>CoordeMaps - Demonstra√ß√£o</span>
                                    <div class="flex space-x-1">
                                        <div class="w-3 h-3 bg-red-400 rounded-full"></div>
                                        <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
                                        <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                                    </div>
                                </div>
                                <div class="demo-content h-80 relative overflow-hidden">
                                    <!-- Simula√ß√£o de Interface -->
                                    <div class="demo-scene absolute inset-0 flex flex-col p-4">
                                        <!-- Barra de coordenadas animada -->
                                        <div class="demo-input-bar bg-white rounded-lg p-3 mb-4 shadow-sm border-2 border-blue-200">
                                            <div class="demo-typing text-gray-600 text-sm">
                                                <span class="typing-text"></span>
                                                <span class="cursor">|</span>
                                            </div>
                                        </div>
                                        
                                        <!-- Mapa simulado -->
                                        <div class="demo-map bg-green-100 rounded-lg flex-1 relative overflow-hidden">
                                            <div class="map-grid absolute inset-0 opacity-20">
                                                <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                                                    <defs>
                                                        <pattern id="demo-grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                                            <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#10b981" stroke-width="1"/>
                                                        </pattern>
                                                    </defs>
                                                    <rect width="100%" height="100%" fill="url(#demo-grid)"/>
                                                </svg>
                                            </div>
                                            
                                            <!-- Pontos animados -->
                                            <div class="demo-points absolute inset-0">
                                                <div class="point point-1"></div>
                                                <div class="point point-2"></div>
                                                <div class="point point-3"></div>
                                                <div class="point point-4"></div>
                                                <div class="point point-5"></div>
                                                <div class="point point-center"></div>
                                            </div>
                                            
                                            <!-- C√≠rculo de raio -->
                                            <div class="demo-radius-circle"></div>
                                        </div>
                                        
                                        <!-- Resultados animados -->
                                        <div class="demo-results bg-white rounded-lg mt-4 p-3 shadow-sm">
                                            <div class="demo-result-item"></div>
                                            <div class="demo-result-item"></div>
                                            <div class="demo-result-item"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Legendas dos passos -->
                            <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                                <div class="text-center p-3 bg-blue-50 rounded-lg">
                                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mx-auto mb-2 text-sm font-bold">1</div>
                                    <p class="text-gray-700"><strong>Digite coordenadas</strong><br>ou clique no mapa</p>
                                </div>
                                <div class="text-center p-3 bg-green-50 rounded-lg">
                                    <div class="w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center mx-auto mb-2 text-sm font-bold">2</div>
                                    <p class="text-gray-700"><strong>Escolha raio e quantidade</strong><br>de coordenadas</p>
                                </div>
                                <div class="text-center p-3 bg-purple-50 rounded-lg">
                                    <div class="w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center mx-auto mb-2 text-sm font-bold">3</div>
                                    <p class="text-gray-700"><strong>Exporte dados</strong><br>para Excel ou texto</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                        <div class="bg-white/50 p-6 rounded-xl">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m0 0L9 7"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-2">Mapeamento Preciso</h3>
                            <p class="text-gray-600 text-sm">Visualiza√ß√£o detalhada de coordenadas com mapas interativos</p>
                        </div>

                        <div class="bg-white/50 p-6 rounded-xl">
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-2">An√°lise de Dados</h3>
                            <p class="text-gray-600 text-sm">Ferramentas avan√ßadas para an√°lise geogr√°fica e estat√≠stica</p>
                        </div>

                        <div class="bg-white/50 p-6 rounded-xl">
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-2">Seguran√ßa</h3>
                            <p class="text-gray-600 text-sm">Sistema seguro com autentica√ß√£o e prote√ß√£o de dados</p>
                        </div>
                    </div>

                    <button onclick="showSection('login')" class="btn-primary text-white px-8 py-4 rounded-xl font-semibold text-lg shadow-lg">
                        Come√ßar Agora
                    </button>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o Login -->
        <section id="login" class="content-section">
            <div class="container mx-auto max-w-md">
                <div class="card-glass rounded-3xl p-8 shadow-2xl">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mx-auto mb-4 flex items-center justify-center">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Fazer Login</h2>
                        <p class="text-gray-600">Acesse sua conta para continuar</p>
                    </div>

                    <form id="loginForm" class="space-y-6">
                        <div>
                            <label for="username" class="block text-sm font-medium text-gray-700 mb-2">Usu√°rio</label>
                            <input type="text" id="username" name="username" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"
                                   placeholder="Digite seu usu√°rio">
                        </div>

                        <div>
                            <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Senha</label>
                            <input type="password" id="password" name="password" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"
                                   placeholder="Digite sua senha">
                        </div>

                        <div id="loginError" class="hidden bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded-xl text-sm">
                            Usu√°rio ou senha incorretos!
                        </div>

                        <button type="submit" class="w-full btn-primary text-white py-3 rounded-xl font-semibold shadow-lg">
                            Entrar
                        </button>
                    </form>

                    <div class="mt-6 text-center">
                        <p class="text-gray-600 text-sm">
                            N√£o tem uma conta? 
                            <button onclick="showSection('contato')" class="text-blue-600 hover:underline font-medium">
                                Entre em contato
                            </button>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o Fale Conosco -->
        <section id="contato" class="content-section">
            <div class="container mx-auto max-w-2xl">
                <div class="card-glass rounded-3xl p-8 md:p-12 shadow-2xl">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-blue-600 rounded-2xl mx-auto mb-4 flex items-center justify-center">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Fale Conosco</h2>
                        <p class="text-gray-600">Entre em contato conosco. Estamos aqui para ajudar!</p>
                    </div>

                    <form id="contactForm" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="nome" class="block text-sm font-medium text-gray-700 mb-2">Nome</label>
                                <input type="text" id="nome" name="nome" required 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"
                                       placeholder="Seu nome">
                            </div>

                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">E-mail</label>
                                <input type="email" id="email" name="email" required 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"
                                       placeholder="seu@email.com">
                            </div>
                        </div>

                        <div>
                            <label for="assunto" class="block text-sm font-medium text-gray-700 mb-2">Assunto</label>
                            <select id="assunto" name="assunto" required 
                                    class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300">
                                <option value="">Selecione um assunto</option>
                                <option value="suporte">Suporte T√©cnico</option>
                                <option value="comercial">Informa√ß√µes Comerciais</option>
                                <option value="sugestao">Sugest√µes</option>
                                <option value="outro">Outro</option>
                            </select>
                        </div>

                        <div>
                            <label for="mensagem" class="block text-sm font-medium text-gray-700 mb-2">Mensagem</label>
                            <textarea id="mensagem" name="mensagem" rows="5" required 
                                      class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 resize-none"
                                      placeholder="Descreva sua mensagem..."></textarea>
                        </div>

                        <button type="submit" class="w-full btn-primary text-white py-3 rounded-xl font-semibold shadow-lg">
                            Enviar Mensagem
                        </button>
                    </form>

                    <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                        <div class="bg-white/50 p-4 rounded-xl">
                            <svg class="w-8 h-8 text-blue-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            <h3 class="font-semibold text-gray-800">E-mail</h3>
                            <p class="text-sm text-gray-600">contato@coordemaps.com</p>
                        </div>

                        <div class="bg-white/50 p-4 rounded-xl">
                            <svg class="w-8 h-8 text-green-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                            <h3 class="font-semibold text-gray-800">Telefone</h3>
                            <p class="text-sm text-gray-600">(11) 9999-9999</p>
                        </div>

                        <div class="bg-white/50 p-4 rounded-xl">
                            <svg class="w-8 h-8 text-purple-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <h3 class="font-semibold text-gray-800">Hor√°rio</h3>
                            <p class="text-sm text-gray-600">Seg - Sex: 9h √†s 18h</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o Redes Sociais -->
        <section id="redes" class="content-section">
            <div class="container mx-auto max-w-2xl">
                <div class="card-glass rounded-3xl p-8 md:p-12 shadow-2xl text-center">
                    <div class="mb-8">
                        <div class="w-16 h-16 bg-gradient-to-r from-pink-500 to-violet-600 rounded-2xl mx-auto mb-4 flex items-center justify-center">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7Z"></path>
                            </svg>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Redes Sociais</h2>
                        <p class="text-gray-600 mb-8">Conecte-se conosco e acompanhe nossas novidades</p>
                    </div>

                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                        <a href="#" class="social-icon bg-blue-600 text-white p-6 rounded-2xl shadow-lg hover:shadow-xl">
                            <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                            <p class="text-sm font-medium">Facebook</p>
                        </a>

                        <a href="#" class="social-icon bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6 rounded-2xl shadow-lg hover:shadow-xl">
                            <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12.017 0C8.396 0 7.989.013 7.041.048 6.094.082 5.52.204 5.02.43c-.531.227-.99.532-1.343.886-.354.353-.659.812-.886 1.343-.226.5-.348 1.074-.382 2.021C2.374 5.728 2.361 6.135 2.361 9.756v4.488c0 3.621.013 4.028.048 4.976.034.947.156 1.521.382 2.021.227.531.532.99.886 1.343.353.354.812.659 1.343.886.5.226 1.074.348 2.021.382.948.035 1.355.048 4.976.048 3.621 0 4.028-.013 4.976-.048.947-.034 1.521-.156 2.021-.382.531-.227.99-.532 1.343-.886.354-.353.659-.812.886-1.343.226-.5.348-1.074.382-2.021.035-.948.048-1.355.048-4.976V9.756c0-3.621-.013-4.028-.048-4.976-.034-.947-.156-1.521-.382-2.021-.227-.531-.532-.99-.886-1.343-.353-.354-.812-.659-1.343-.886-.5-.226-1.074-.348-2.021-.382C16.044.013 15.637 0 12.017 0zM12 5.838A6.162 6.162 0 1 0 18.162 12 6.162 6.162 0 0 0 12 5.838zM12 16a4 4 0 1 1 4-4 4 4 0 0 1-4 4zm6.406-11.845a1.44 1.44 0 1 1 0 2.881 1.44 1.44 0 0 1 0-2.881z"/>
                            </svg>
                            <p class="text-sm font-medium">Instagram</p>
                        </a>

                        <a href="#" class="social-icon bg-sky-500 text-white p-6 rounded-2xl shadow-lg hover:shadow-xl">
                            <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                            <p class="text-sm font-medium">Twitter</p>
                        </a>

                        <a href="#" class="social-icon bg-blue-700 text-white p-6 rounded-2xl shadow-lg hover:shadow-xl">
                            <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                            <p class="text-sm font-medium">LinkedIn</p>
                        </a>
                    </div>

                    <div class="bg-white/50 p-6 rounded-2xl">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Mantenha-se Conectado</h3>
                        <p class="text-gray-600 mb-6">
                            Siga nossas redes sociais para ficar por dentro das √∫ltimas novidades, 
                            atualiza√ß√µes do sistema e dicas de uso do CoordeMaps.
                        </p>
                        <div class="text-sm text-gray-500">
                            <p><strong>Observa√ß√£o:</strong> Os links das redes sociais ser√£o disponibilizados em breve.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>



    <!-- Bot√£o para mostrar/esconder seletor de tema -->
    <div class="theme-toggle-button-fixed" style="position: fixed; top: 20px; right: 20px; z-index: 10000;">
        <button id="themeToggleBtn" class="bg-white dark:bg-slate-800 p-2 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-slate-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-700 dark:text-slate-300">
                <circle cx="12" cy="12" r="5"/>
                <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
            </svg>
        </button>
    </div>

    <!-- Seletor de Tema Fixo -->
    <div id="themeSelectorContainer" class="theme-selector-fixed" style="display: none;">
        <label for="themeSwitcher" class="sr-only">Escolher Tema</label>
        <select id="themeSwitcher" class="form-select rounded-md shadow-sm text-sm py-1.5 px-2 focus:ring-indigo-500 focus:border-indigo-500 bg-transparent border-0">
            <option value="light">‚òÄÔ∏è Claro</option>
            <option value="dark">üåô Escuro</option>
        </select>
    </div>

    <!-- Aplica√ß√£o Principal (inicialmente oculta) -->
    <div id="mainContentContainer" class="container mx-auto max-w-6xl bg-white/90 backdrop-blur-xl dark:bg-slate-800 p-8 md:p-12 rounded-3xl shadow-2xl border border-white/20" style="display: none;">
        <div class="flex justify-between items-center mb-8">
            <div class="flex items-center">
                <div class="inline-block p-4 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 mr-4">
                    <div class="flex items-center space-x-4">
                        <div class="bg-white/20 rounded-xl p-3">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="white"/>
                                <circle cx="12" cy="9" r="1.5" fill="#4F46E5"/>
                            </svg>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-bold text-white mb-0">CoordeMaps</h1>
                    </div>
                </div>
                <span id="welcomeUser" class="text-lg font-medium text-gray-700 dark:text-slate-100"></span>
            </div>
            <button id="logoutButton" class="btn btn-tertiary">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4m7 14l4-4-4-4m4 4H9"/>
                </svg>
                Sair
            </button>
        </div>

        <div class="mb-8 text-center">
            <p class="text-gray-600 dark:text-slate-100 text-base md:text-lg max-w-3xl mx-auto leading-relaxed">
                Clique no mapa para definir o centro ou insira latitude e longitude (ex: -22.9068, -43.1729).
                Escolha a quantidade de coordenadas (2-10), o raio de busca e visualize. A coordenada pesquisada sempre ser√° inclu√≠da nos resultados.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-6 mb-10">
            <div>
                <label for="radiusSelect" class="block text-sm font-medium text-gray-700 dark:text-slate-100 mb-1.5">Raio de Busca:</label>
                <select id="radiusSelect" name="radiusSelect" class="form-select w-full">
                    <option value="0.5">500 metros</option>
                    <option value="1">1 km</option>
                    <option value="1.5">1.5 km</option>
                    <option value="2">2 km</option>
                    <option value="2.5">2.5 km</option>
                    <option value="3">3 km</option>
                    <option value="3.5">3.5 km</option>
                    <option value="4">4 km</option>
                    <option value="4.5">4.5 km</option>
                    <option value="5" selected>5 km</option>
                </select>
            </div>
            <div>
                <label for="quantitySelect" class="block text-sm font-medium text-gray-700 dark:text-slate-100 mb-1.5">Quantidade de Coordenadas:</label>
                <select id="quantitySelect" name="quantitySelect" class="form-select w-full">
                    <option value="2">2 coordenadas</option>
                    <option value="3">3 coordenadas</option>
                    <option value="4">4 coordenadas</option>
                    <option value="5">5 coordenadas</option>
                    <option value="6">6 coordenadas</option>
                    <option value="7">7 coordenadas</option>
                    <option value="8">8 coordenadas</option>
                    <option value="9">9 coordenadas</option>
                    <option value="10" selected>10 coordenadas</option>
                </select>
            </div>
            <div>
                <label for="coordSearch" class="block text-sm font-medium text-gray-700 dark:text-slate-100 mb-1.5">Coordenadas Centrais (Latitude, Longitude):</label>
                <input type="text" id="coordSearch" name="coordSearch" placeholder="-22.9068, -43.1729" class="form-input w-full">
            </div>
        </div>

        <button id="generateMap" class="btn btn-primary w-full mb-8 text-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-2 lucide lucide-map-pin">
                <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/>
            </svg>
            Gerar Mapa e Dados
        </button>

        <div id="mapContainer" class="mb-8 relative">
            <div id="map"></div>
            <div class="absolute top-3 right-3 z-[1000] flex space-x-2">
                <button id="printMapBtn" class="bg-white p-2 rounded-md shadow-lg hover:bg-gray-100 transition-colors" title="Tirar Print do Mapa" style="display:none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-camera"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
                </button>
                <button id="fullscreenMapBtn" class="bg-white p-2 rounded-md shadow-lg hover:bg-gray-100 transition-colors" title="Maximizar Mapa">
                    <svg id="iconEnterFullscreen" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>
                    <svg id="iconExitFullscreen" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-minimize" style="display:none;"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2 2v3"/></svg>
                </button>
            </div>
        </div>

        <div id="loader" class="loader" style="display: none;"></div>
        <div id="messageArea" class="mb-6 text-sm text-center text-gray-700 dark:text-slate-300"></div>

        <div id="resultsContainer" class="overflow-x-auto">
            <h2 class="text-2xl font-semibold text-gray-700 dark:text-slate-100 mb-4">Pontos Gerados:</h2>
            <table id="resultsTable" class="min-w-full divide-y divide-gray-200 dark:divide-slate-700 shadow-md hidden">
                <thead class="bg-gray-50 dark:bg-slate-700">
                    <tr>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider">#</th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider">Coordenadas</th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider">Endere√ßo Detalhado</th>
                    </tr>
                </thead>
                <tbody id="resultsBody" class="bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700">
                </tbody>
            </table>
            <p id="noResults" class="text-gray-500 dark:text-slate-400 text-center py-4">Nenhum dado gerado ainda. Preencha os campos e clique em "Gerar Mapa".</p>
        </div>

        <div id="copyButtonsContainer" class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-6" style="display: none;">
            <button id="copyCoordsButton" class="btn btn-tertiary w-full text-sm py-2.5" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-1.5 lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                Copiar Coordenadas
            </button>
            <button id="copyAddressesButton" class="btn btn-tertiary w-full text-sm py-2.5" disabled>
                 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-1.5 lucide lucide-clipboard-list"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></svg>
                Copiar Endere√ßos
            </button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-10">
            <button id="exportExcel" class="btn btn-secondary text-lg" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-2 lucide lucide-file-spreadsheet"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M15 2v5h5"/><path d="M15 13H9"/><path d="M12 10v6"/><path d="M9 16h6"/></svg>
                Exportar para Excel
            </button>
            <button id="exportNotepad" class="btn btn-tertiary text-lg" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-2 lucide lucide-file-text"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14,2 14,8 20,8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10,9 9,9 8,9"/></svg>
                Exportar para Bloco de Notas
            </button>
        </div>
    </div>

    <div id="customModal" class="modal">
        <div class="modal-content dark:bg-slate-800">
            <span class="modal-close dark:text-slate-400 dark:hover:text-slate-200" onclick="closeModal()">&times;</span>
            <p id="modalMessageText" class="text-gray-700 dark:text-slate-100 text-lg mb-6"></p>
            <button onclick="closeModal()" class="btn btn-modal">OK</button>
        </div>
    </div>

    <!-- Footer (vis√≠vel apenas na navega√ß√£o) -->
    <footer id="mainFooter" class="bg-black/20 backdrop-blur-lg text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="flex items-center justify-center space-x-3 mb-4">
                <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg px-3 py-2 flex items-center space-x-2">
                    <div class="bg-white/20 rounded-md p-1">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="white"/>
                            <circle cx="12" cy="9" r="1.5" fill="#4F46E5"/>
                        </svg>
                    </div>
                    <span class="text-lg font-bold text-white">CoordeMaps</span>
                </div>
            </div>
            <p class="text-white/80">&copy; 2025 CoordeMaps. Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- Footer da aplica√ß√£o de mapeamento -->
    <footer id="mappingFooter" class="bg-black/20 backdrop-blur-lg text-white py-6 mt-8" style="display: none;">
        <div class="container mx-auto px-4 text-center">
            <div class="flex items-center justify-center space-x-3 mb-3">
                <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg px-2 py-1 flex items-center space-x-2">
                    <div class="bg-white/20 rounded-sm p-1">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="white"/>
                            <circle cx="12" cy="9" r="1.5" fill="#4F46E5"/>
                        </svg>
                    </div>
                    <span class="text-md font-bold text-white">CoordeMaps</span>
                </div>
            </div>
            <p class="text-white/80 text-sm">&copy; 2025 CoordeMaps. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        // Banco de dados de usu√°rios em mem√≥ria
        let usersDatabase = {
            'wagner': 'kenya',
            'admin': '123456'
        };

        // Estado de autentica√ß√£o
        let isAuthenticated = false;
        let currentUser = '';
        let currentView = 'navigation'; // 'navigation' ou 'mapping'

        // Elementos DOM
        const mainNavigation = document.getElementById('mainNavigation');
        const mainContentWrapper = document.getElementById('mainContentWrapper');
        const mainContentContainer = document.getElementById('mainContentContainer');
        const loginForm = document.getElementById('loginForm');
        const loginError = document.getElementById('loginError');
        const welcomeUser = document.getElementById('welcomeUser');
        const logoutButton = document.getElementById('logoutButton');
        const themeSwitcher = document.getElementById('themeSwitcher');

        // Vari√°veis da aplica√ß√£o de mapeamento
        let map;
        let radiusCircle;
        let collectedData = [];
        const R_EARTH = 6371;
        const NUM_STREET_POINTS = 10;

        // Sistema de autentica√ß√£o
        function login(username, password, isMainApp = false) {
            if (!username || !password) {
                return false;
            }

            if (usersDatabase[username] && usersDatabase[username] === password) {
                isAuthenticated = true;
                currentUser = username;

                if (isMainApp) {
                    showMappingApp();
                }
                return true;
            }
            return false;
        }

        function logout() {
            isAuthenticated = false;
            currentUser = '';
            currentView = 'navigation';

            // Limpar formul√°rios
            if (loginForm) loginForm.reset();

            // Esconder erros
            if (loginError) loginError.classList.add('hidden');

            showNavigationView();
        }

        function showNavigationView() {
            currentView = 'navigation';
            if (mainNavigation) mainNavigation.style.display = 'block';
            if (mainContentWrapper) mainContentWrapper.style.display = 'block';
            if (mainContentContainer) mainContentContainer.style.display = 'none';
            document.body.className = 'min-h-screen';

            // Controlar visibilidade dos footers
            const mainFooter = document.getElementById('mainFooter');
            const mappingFooter = document.getElementById('mappingFooter');
            if (mainFooter) mainFooter.style.display = 'block';
            if (mappingFooter) mappingFooter.style.display = 'none';

            // Mostrar se√ß√£o in√≠cio sem recurs√£o
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            const inicioSection = document.getElementById('inicio');
            if (inicioSection) {
                inicioSection.classList.add('active');
            }
        }



        function showMappingApp() {
            if (mainNavigation) mainNavigation.style.display = 'none';
            if (mainContentWrapper) mainContentWrapper.style.display = 'none';
            if (mainContentContainer) mainContentContainer.style.display = 'block';
            document.body.className = 'p-4 md:p-8 min-h-screen';
            currentView = 'mapping';

            // Controlar visibilidade dos footers
            const mainFooter = document.getElementById('mainFooter');
            const mappingFooter = document.getElementById('mappingFooter');
            if (mainFooter) mainFooter.style.display = 'none';
            if (mappingFooter) mappingFooter.style.display = 'block';

            if (welcomeUser) welcomeUser.textContent = `Bem-vindo, ${currentUser}!`;

            // Inicializar mapa apenas uma vez
            setTimeout(() => {
                initializeMap();
            }, 100);
        }

        // Event listeners para navega√ß√£o
        function showSection(sectionId) {
            // Garantir que estamos na visualiza√ß√£o de navega√ß√£o
            if (currentView !== 'navigation') {
                showNavigationView();
            }

            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu) {
                mobileMenu.classList.add('hidden');
            }
        }

        // Event listeners para autentica√ß√£o
        if (loginForm) {
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;

                if (login(username, password, true)) {
                    loginError.classList.add('hidden');
                    loginForm.reset();
                } else {
                    loginError.classList.remove('hidden');
                }
            });
        }



        if (logoutButton) {
            logoutButton.addEventListener('click', logout);
        }

        // Toggle menu mobile
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        });

        // Formul√°rio de contato
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Mensagem enviada com sucesso! Retornaremos em breve.');
            this.reset();
        });

        // Sistema de temas
        function applyTheme(theme) {
            const htmlElement = document.documentElement;
            htmlElement.classList.remove('dark');
            if (theme === 'dark') htmlElement.classList.add('dark');
            localStorage.setItem('theme', theme);
            themeSwitcher.value = theme;
        }

        const themeToggleBtn = document.getElementById('themeToggleBtn');
        const themeSelectorContainer = document.getElementById('themeSelectorContainer');
        let themeSelectorVisible = false;

        themeToggleBtn.addEventListener('click', () => {
            themeSelectorVisible = !themeSelectorVisible;
            themeSelectorContainer.style.display = themeSelectorVisible ? 'block' : 'none';
            localStorage.setItem('themeSelectorVisible', themeSelectorVisible);
        });

        const savedVisibility = localStorage.getItem('themeSelectorVisible');
        if (savedVisibility === 'true') {
            themeSelectorVisible = true;
            themeSelectorContainer.style.display = 'block';
        }

        themeSwitcher.addEventListener('change', (event) => applyTheme(event.target.value));
        const savedTheme = localStorage.getItem('theme') || 'light';
        applyTheme(savedTheme);

        // Fun√ß√µes da aplica√ß√£o de mapeamento
        function initializeMap() {
            if (map) return;

            const radiusSelect = document.getElementById('radiusSelect');
            const quantitySelect = document.getElementById('quantitySelect');
            const coordSearchInput = document.getElementById('coordSearch');
            const generateMapButton = document.getElementById('generateMap');
            const exportExcelButton = document.getElementById('exportExcel');
            const resultsTable = document.getElementById('resultsTable');
            const resultsBody = document.getElementById('resultsBody');
            const noResultsText = document.getElementById('noResults');
            const copyButtonsContainer = document.getElementById('copyButtonsContainer');
            const copyCoordsButton = document.getElementById('copyCoordsButton');
            const copyAddressesButton = document.getElementById('copyAddressesButton');
            const loader = document.getElementById('loader');
            const messageArea = document.getElementById('messageArea');
            const modal = document.getElementById('customModal');
            const modalMessageText = document.getElementById('modalMessageText');
            const mapContainerElement = document.getElementById('mapContainer');
            const fullscreenMapBtn = document.getElementById('fullscreenMapBtn');
            const printMapBtn = document.getElementById('printMapBtn');

            const iconEnterFullscreen = document.getElementById('iconEnterFullscreen');
            const iconExitFullscreen = document.getElementById('iconExitFullscreen');

            map = L.map('map', { attributionControl: false }).setView([-22.9068, -43.1729], 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);
            L.control.attribution({prefix: '<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors', position: 'bottomright'}).addTo(map);

            map.on('click', function(e) {
                const clickedLat = e.latlng.lat;
                const clickedLng = e.latlng.lng;
                const selectedRadiusKm = parseFloat(radiusSelect.value);

                coordSearchInput.value = `${clickedLat.toFixed(6)}, ${clickedLng.toFixed(6)}`;

                if (radiusCircle) map.removeLayer(radiusCircle);

                if (!isNaN(selectedRadiusKm) && selectedRadiusKm > 0) {
                    radiusCircle = L.circle([clickedLat, clickedLng], {
                        color: '#4f46e5', fillColor: '#6366f1', fillOpacity: 0.15,
                        radius: selectedRadiusKm * 1000, weight: 2
                    }).addTo(map);
                }

                collectedData = [];
                resultsBody.innerHTML = '';
                resultsTable.classList.add('hidden');
                noResultsText.style.display = 'block';
                exportExcelButton.disabled = true;
                if (document.getElementById('exportNotepad')) {
                    document.getElementById('exportNotepad').disabled = true;
                }
                copyCoordsButton.disabled = true;
                copyAddressesButton.disabled = true;
                copyButtonsContainer.style.display = 'none';
                showMessage("Novo centro definido no mapa. Clique em 'Gerar Mapa e Dados' para obter os pontos.", false);
            });

            generateMapButton.addEventListener('click', async () => {
                const selectedRadiusKm = parseFloat(radiusSelect.value);
                const selectedQuantity = parseInt(quantitySelect.value);
                const coordStringInput = coordSearchInput.value; 
                let lat, lon;

                if (!coordStringInput.trim()) { 
                    showModal("Por favor, insira as coordenadas de latitude e longitude ou clique no mapa.");
                    return;
                }
                if (isNaN(selectedRadiusKm) || selectedRadiusKm <= 0) {
                    showModal("Por favor, selecione um raio v√°lido.");
                    return;
                }

                let processedCoordString = coordStringInput.trim(); 
                if (!processedCoordString.includes(',')) {
                    const lastHyphenIdx = processedCoordString.lastIndexOf('-');
                    if (lastHyphenIdx > 0) { 
                        const potentialLat = processedCoordString.substring(0, lastHyphenIdx);
                        const potentialLonAbs = processedCoordString.substring(lastHyphenIdx + 1);
                        if (potentialLat.length > 0 && !isNaN(parseFloat(potentialLat)) && !isNaN(parseFloat(potentialLonAbs))) {
                            processedCoordString = potentialLat + ',-' + potentialLonAbs; 
                        }
                    }
                }

                try {
                    const parts = processedCoordString.split(',');
                    if (parts.length !== 2) throw new Error("Formato inv√°lido. Use 'latitude, longitude'.");
                    lat = parseFloat(parts[0].trim());
                    lon = parseFloat(parts[1].trim());
                    if (isNaN(lat) || isNaN(lon) || lat < -90 || lat > 90 || lon < -180 || lon > 180) {
                        throw new Error("Valores de latitude (-90 a 90) ou longitude (-180 a 180) inv√°lidos.");
                    }
                } catch (e) {
                    showModal(`Erro ao analisar coordenadas: ${e.message} Exemplo: "-22.9068, -43.1729".`);
                    return;
                }

                showMessage("", false);
                loader.style.display = 'block';
                resultsTable.classList.add('hidden');
                resultsBody.innerHTML = '';
                noResultsText.style.display = 'block';
                exportExcelButton.disabled = true;
                exportNotepadButton.disabled = true;
                copyCoordsButton.disabled = true;
                copyAddressesButton.disabled = true;
                copyButtonsContainer.style.display = 'none';
                collectedData = [];

                if (radiusCircle) map.removeLayer(radiusCircle);

                let zoomLevel = 14;
                if (selectedRadiusKm >= 4.5) zoomLevel = 11;
                else if (selectedRadiusKm >= 3) zoomLevel = 12;
                else if (selectedRadiusKm >= 1.5) zoomLevel = 13;
                else zoomLevel = 14;

                map.setView([lat, lon], zoomLevel);

                radiusCircle = L.circle([lat, lon], {
                    color: '#4f46e5', fillColor: '#6366f1', fillOpacity: 0.15,
                    radius: selectedRadiusKm * 1000, weight: 2 
                }).addTo(map);
                if (map.getZoom() > zoomLevel + 1 || map.getZoom() < zoomLevel -1) {
                    map.fitBounds(radiusCircle.getBounds());
                }

                // Primeiro, adicionar a coordenada central pesquisada
                try {
                    const centralAddressDetails = await reverseGeocode(lat, lon, "MeuAppDeMapa/1.0 (contato@meuapp.com)");
                    collectedData.push({
                        id: 1, latitude: lat, longitude: lon, 
                        addressInfo: centralAddressDetails, isCentral: true
                    });
                    updateTable();
                } catch (error) {
                    console.warn(`N√£o foi poss√≠vel obter o endere√ßo para coordenada central: ${error.message}`);
                    collectedData.push({
                        id: 1, latitude: lat, longitude: lon,
                        addressInfo: { address: {}, display_name: "Coordenada Central" }, isCentral: true
                    });
                    updateTable();
                }

                // Agora gerar pontos adicionais baseado na quantidade selecionada
                const pointsToGenerate = selectedQuantity - 1; // -1 porque j√° temos a coordenada central
                const uniquePoints = new Set();
                uniquePoints.add(`${lat.toFixed(5)},${lon.toFixed(5)}`); // Adicionar coordenada central ao set
                let attempts = 0;
                const maxAttempts = pointsToGenerate * 15; // Reduzir tentativas m√°ximas
                const delayBetweenRequests = 800; // Reduzir delay entre requests

                for (let i = 0; i < pointsToGenerate && attempts < maxAttempts; attempts++) {
                    const randomPoint = getRandomPointInRadius(lat, lon, selectedRadiusKm);
                    const pointKey = `${randomPoint.lat.toFixed(4)},${randomPoint.lng.toFixed(4)}`; // Reduzir precis√£o para mais variedade

                    if (!uniquePoints.has(pointKey)) {
                        uniquePoints.add(pointKey);
                        try {
                            await new Promise(resolve => setTimeout(resolve, delayBetweenRequests));
                            const addressDetails = await reverseGeocode(randomPoint.lat, randomPoint.lng, "CoordeMaps/1.0 (contato@coordemaps.com)"); 

                            collectedData.push({
                                id: collectedData.length + 1, latitude: randomPoint.lat,
                                longitude: randomPoint.lng, addressInfo: addressDetails, isCentral: false
                            });
                            updateTable();
                            i++; 
                        } catch (error) {
                            console.warn(`Geocodifica√ß√£o falhou para ${randomPoint.lat.toFixed(5)}, ${randomPoint.lng.toFixed(5)}: ${error.message}`);
                            // Mesmo com erro, adicionar o ponto com informa√ß√µes b√°sicas
                            collectedData.push({
                                id: collectedData.length + 1, latitude: randomPoint.lat,
                                longitude: randomPoint.lng, 
                                addressInfo: {
                                    address: {
                                        road: `Coordenada ${randomPoint.lat.toFixed(6)}, ${randomPoint.lng.toFixed(6)}`,
                                        city: 'Localiza√ß√£o n√£o identificada'
                                    },
                                    display_name: `${randomPoint.lat.toFixed(6)}, ${randomPoint.lng.toFixed(6)}`
                                }, 
                                isCentral: false
                            });
                            updateTable();
                            i++;
                        }
                    }
                }

                loader.style.display = 'none';
                if (collectedData.length > 0) {
                    exportExcelButton.disabled = false;
                    exportNotepadButton.disabled = false;
                    copyCoordsButton.disabled = false;
                    copyAddressesButton.disabled = false;
                    copyButtonsContainer.style.display = 'grid'; 
                    noResultsText.style.display = 'none'; 
                    resultsTable.classList.remove('hidden');
                    if (collectedData.length < selectedQuantity) {
                        showMessage(`Geradas ${collectedData.length} de ${selectedQuantity} coordenadas. Algumas coordenadas podem n√£o ter ruas identific√°veis na regi√£o.`, false);
                    } else {
                        showMessage(`${collectedData.length} coordenadas geradas com sucesso!`, false);
                    }
                } else {
                    showMessage("N√£o foi poss√≠vel gerar pontos. Tente uma coordenada/raio diferente.", true);
                    resultsTable.classList.add('hidden');
                    noResultsText.style.display = 'block';
                    copyButtonsContainer.style.display = 'none';
                }
            });

            copyCoordsButton.addEventListener('click', () => {
                if (collectedData.length === 0) {
                    showModal("Nenhuma coordenada para copiar.");
                    return;
                }
                const coordsText = collectedData.map(data => `${data.latitude.toFixed(6)},${data.longitude.toFixed(6)}`).join('\n');
                copyToClipboard(coordsText, "Coordenadas copiadas com sucesso!", "Falha ao copiar coordenadas.");
            });

            
            copyAddressesButton.addEventListener('click', () => {
                if (collectedData.length === 0) {
                    showModal("Nenhum endere√ßo para copiar.");
                    return;
                }

                let addressText = "=== ENDERE√áOS DETALHADOS ===\n\n";
                // Usar todos os 10 endere√ßos coletados para detalhamento
                collectedData.forEach((data, index) => {
                    const ad = data.addressInfo.address;
                    let streetName = ad.road || ad.pedestrian || ad.footway || ad.street || "";
                    let location = ad.suburb || ad.neighbourhood || ad.city || ad.town || ad.village || "";
                    
                    let displayAddress = "";
                    if (streetName && location) {
                        displayAddress = `${streetName} - ${location}`;
                    } else if (streetName) {
                        displayAddress = streetName;
                    } else if (location) {
                        displayAddress = location;
                    } else {
                        displayAddress = "Endere√ßo n√£o dispon√≠vel";
                    }

                    addressText += `[${index + 1}] ${displayAddress}\n`;
                });

                copyToClipboard(addressText, "Endere√ßos copiados com sucesso!", "Falha ao copiar endere√ßos.");
            });

            const exportNotepadButton = document.getElementById('exportNotepad');

            exportExcelButton.addEventListener('click', () => {
                if (collectedData.length === 0) {
                    showModal("N√£o h√° dados para exportar.");
                    return;
                }
                const worksheetData = collectedData.map(item => {
                    const ad = item.addressInfo.address;
                    let streetName = ad.road || ad.pedestrian || ad.footway || ad.street || "";
                    let location = ad.suburb || ad.neighbourhood || ad.city || ad.town || ad.village || "";
                    
                    let excelAddress = "";
                    if (streetName && location) {
                        excelAddress = `${streetName} - ${location}`;
                    } else if (streetName) {
                        excelAddress = streetName;
                    } else if (location) {
                        excelAddress = location;
                    } else {
                        excelAddress = item.addressInfo.display_name || "N√£o dispon√≠vel";
                    }
                    
                    return {
                        'ID': item.id, 'Latitude': item.latitude.toFixed(6), 'Longitude': item.longitude.toFixed(6),
                        'Endere√ßo Completo': excelAddress
                    };
                });
                const worksheet = XLSX.utils.json_to_sheet(worksheetData);
                const workbook = XLSX.utils.book_new();
                XLSX.utils.book_append_sheet(workbook, worksheet, "Coordenadas");
                worksheet['!cols'] = [ { wch: 5 }, { wch: 15 }, { wch: 15 }, { wch: 80 } ]; 
                XLSX.writeFile(workbook, "coordenadas_raio_detalhado.xlsx");
                showModal("Dados exportados para 'coordenadas_raio_detalhado.xlsx' com sucesso!");
            });

            exportNotepadButton.addEventListener('click', () => {
                if (collectedData.length === 0) {
                    showModal("N√£o h√° dados para exportar.");
                    return;
                }

                let notepadContent = "=== COORDENADAS E ENDERE√áOS ===\n";
                notepadContent += `Gerado em: ${new Date().toLocaleString('pt-BR')}\n`;
                notepadContent += `Total de pontos: ${collectedData.length}\n\n`;

                // Primeiro todas as coordenadas
                collectedData.forEach(item => {
                    notepadContent += `${item.latitude.toFixed(6)}, ${item.longitude.toFixed(6)}\n`;
                });

                // Depois todas as ruas
                collectedData.forEach(item => {
                    const ad = item.addressInfo.address;
                    let streetName = ad.road || ad.pedestrian || ad.footway || ad.street || "";
                    let location = ad.suburb || ad.neighbourhood || ad.city || ad.town || ad.village || "";
                    
                    let streetAddress = "";
                    if (streetName && location) {
                        streetAddress = `${streetName} - ${location}`;
                    } else if (streetName) {
                        streetAddress = streetName;
                    } else if (location) {
                        streetAddress = location;
                    } else {
                        streetAddress = "Endere√ßo n√£o dispon√≠vel";
                    }

                    notepadContent += `${streetAddress}\n`;
                });

                // Criar e baixar arquivo .txt
                const blob = new Blob([notepadContent], { type: 'text/plain;charset=utf-8' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `coordenadas_${new Date().getTime()}.txt`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                showModal("Arquivo de texto exportado com sucesso!");
            });

            if (fullscreenMapBtn && mapContainerElement) {
                fullscreenMapBtn.addEventListener('click', () => toggleFullScreen(mapContainerElement));
            }

            if (printMapBtn) {
                printMapBtn.addEventListener('click', async () => {
                    try {
                        // Verificar se a API de captura de tela est√° dispon√≠vel
                        if (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {
                            // Solicitar captura de tela
                            const stream = await navigator.mediaDevices.getDisplayMedia({ 
                                video: { mediaSource: 'screen' }
                            });

                            const video = document.createElement('video');
                            video.srcObject = stream;
                            video.play();

                            video.addEventListener('loadedmetadata', async () => {
                                const canvas = document.createElement('canvas');
                                canvas.width = video.videoWidth;
                                canvas.height = video.videoHeight;
                                const ctx = canvas.getContext('2d');
                                ctx.drawImage(video, 0, 0);

                                // Parar o stream imediatamente
                                stream.getTracks().forEach(track => track.stop());

                                try {
                                    // Converter canvas para blob
                                    canvas.toBlob(async (blob) => {
                                        if (blob && navigator.clipboard && navigator.clipboard.write) {
                                            // Copiar imagem diretamente para √°rea de transfer√™ncia
                                            const clipboardItem = new ClipboardItem({ 'image/png': blob });
                                            await navigator.clipboard.write([clipboardItem]);
                                            showModal("Imagem do mapa copiada para √°rea de transfer√™ncia! Voc√™ pode colar (Ctrl+V) em qualquer aplicativo.");
                                        } else {
                                            // Fallback: download da imagem
                                            const link = document.createElement('a');
                                            link.download = `mapa_coordemaps_${new Date().getTime()}.png`;
                                            link.href = canvas.toDataURL();
                                            link.click();
                                            showModal("Imagem do mapa baixada! Arquivo salvo na pasta de downloads.");
                                        }
                                    }, 'image/png');
                                } catch (clipboardError) {
                                    console.error('Erro ao copiar para √°rea de transfer√™ncia:', clipboardError);
                                    // Fallback: download da imagem
                                    const link = document.createElement('a');
                                    link.download = `mapa_coordemaps_${new Date().getTime()}.png`;
                                    link.href = canvas.toDataURL();
                                    link.click();
                                    showModal("Imagem do mapa baixada! Arquivo salvo na pasta de downloads.");
                                }
                            });
                        } else {
                            // Fallback para navegadores que n√£o suportam getDisplayMedia
                            showModal("Seu navegador n√£o suporta captura de tela autom√°tica. Use as teclas do sistema:\n\n‚Ä¢ Windows: Win + Shift + S ou Ctrl + Shift + S\n‚Ä¢ Mac: Cmd + Shift + 4\n‚Ä¢ Linux: Shift + Print Screen\n\nDepois cole onde desejar com Ctrl+V (ou Cmd+V no Mac).");
                        }
                    } catch (error) {
                        console.error('Erro na captura:', error);
                        if (error.name === 'NotAllowedError') {
                            showModal("Permiss√£o de captura de tela negada. Use as teclas do sistema para capturar:\n\n‚Ä¢ Windows: Win + Shift + S\n‚Ä¢ Mac: Cmd + Shift + 4\n‚Ä¢ Linux: Shift + Print Screen");
                        } else {
                            showModal("Erro ao capturar tela. Use as teclas do sistema:\n\n‚Ä¢ Windows: Win + Shift + S\n‚Ä¢ Mac: Cmd + Shift + 4\n‚Ä¢ Linux: Shift + Print Screen");
                        }
                    }
                });
            }



            function toggleFullScreen(element) {
                if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) {
                    try {
                        if (element.requestFullscreen) element.requestFullscreen();
                        else if (element.msRequestFullscreen) element.msRequestFullscreen();
                        else if (element.mozRequestFullScreen) element.mozRequestFullScreen();
                        else if (element.webkitRequestFullscreen) element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
                    } catch (err) {
                        console.error("Erro ao entrar em tela cheia:", err);
                        showModal("N√£o foi poss√≠vel ativar a tela cheia. Verifique as permiss√µes do navegador ou se a p√°gina est√° num iframe restrito.");
                        if (mapContainerElement.classList.contains('fullscreen-map')) {
                             mapContainerElement.classList.remove('fullscreen-map');
                             iconEnterFullscreen.style.display = 'inline-block';
                             iconExitFullscreen.style.display = 'none';
                             fullscreenMapBtn.title = "Maximizar Mapa";
                             if(map) map.invalidateSize();
                        }
                    }
                } else {
                    try {
                        if (document.exitFullscreen) document.exitFullscreen();
                        else if (document.msExitFullscreen) document.msExitFullscreen();
                        else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
                        else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
                    } catch (err) {
                         console.error("Erro ao sair da tela cheia:", err);
                    }
                }
            }

            // Vari√°vel global para backup do c√≠rculo
            let circleBackup = null;

            function handleFullscreenChange() {
                const isElementActuallyFullscreen = !!(document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement);
                const isOurMapContainerFullscreen = isElementActuallyFullscreen &&
                                                   (document.fullscreenElement === mapContainerElement ||
                                                    document.mozFullScreenElement === mapContainerElement ||
                                                    document.webkitFullscreenElement === mapContainerElement ||
                                                    document.msFullscreenElement === mapContainerElement);

                // Fazer backup do c√≠rculo antes de qualquer mudan√ßa
                if (radiusCircle && map.hasLayer(radiusCircle)) {
                    circleBackup = {
                        center: radiusCircle.getLatLng(),
                        radius: radiusCircle.getRadius(),
                        options: {
                            color: radiusCircle.options.color,
                            fillColor: radiusCircle.options.fillColor,
                            fillOpacity: radiusCircle.options.fillOpacity,
                            weight: radiusCircle.options.weight
                        }
                    };
                }

                if (isOurMapContainerFullscreen) {
                    mapContainerElement.classList.add('fullscreen-map');
                    iconEnterFullscreen.style.display = 'none';
                    iconExitFullscreen.style.display = 'inline-block';
                    fullscreenMapBtn.title = "Minimizar Mapa";
                    if (printMapBtn) printMapBtn.style.display = 'block';
                } else {
                    if (mapContainerElement.classList.contains('fullscreen-map')) {
                        mapContainerElement.classList.remove('fullscreen-map');
                        iconEnterFullscreen.style.display = 'inline-block';
                        iconExitFullscreen.style.display = 'none';
                        fullscreenMapBtn.title = "Maximizar Mapa";
                        if (printMapBtn) printMapBtn.style.display = 'none';
                    }
                }

                if (map) {
                    setTimeout(() => {
                        map.invalidateSize();

                        // Restaurar o c√≠rculo se havia backup
                        if (circleBackup) {
                            // Remover c√≠rculo existente se houver
                            if (radiusCircle && map.hasLayer(radiusCircle)) {
                                map.removeLayer(radiusCircle);
                            }

                            // Recriar o c√≠rculo a partir do backup
                            radiusCircle = L.circle(circleBackup.center, {
                                color: circleBackup.options.color,
                                fillColor: circleBackup.options.fillColor,
                                fillOpacity: circleBackup.options.fillOpacity,
                                radius: circleBackup.radius,
                                weight: circleBackup.options.weight
                            }).addTo(map);
                        }
                    }, 250);
                }
            }
            document.addEventListener('fullscreenchange', handleFullscreenChange);
            document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
            document.addEventListener('mozfullscreenchange', handleFullscreenChange);
            document.addEventListener('MSFullscreenChange', handleFullscreenChange);
        }

        // Fun√ß√µes auxiliares para mapeamento
        function updateTable() {
            const resultsBody = document.getElementById('resultsBody');
            resultsBody.innerHTML = '';
            collectedData.forEach(data => {
                const row = resultsBody.insertRow();

                // Destacar a coordenada central
                if (data.isCentral) {
                    row.style.backgroundColor = '#fef3c7';
                    row.style.fontWeight = '600';
                    if (document.documentElement.classList.contains('dark')) {
                        row.style.backgroundColor = '#365314';
                        row.style.color = '#fde047';
                    }
                }

                const idCell = row.insertCell();
                idCell.textContent = data.isCentral ? `${data.id} ‚≠ê` : data.id;

                row.insertCell().textContent = `${data.latitude.toFixed(6)},${data.longitude.toFixed(6)}`;

                const ad = data.addressInfo.address;
                let streetName = ad.road || ad.pedestrian || ad.footway || ad.street || "";
                let location = ad.suburb || ad.neighbourhood || ad.city || ad.town || ad.village || "";
                
                let displayAddress = "";
                if (streetName && location) {
                    displayAddress = `${streetName} - ${location}`;
                } else if (streetName) {
                    displayAddress = streetName;
                } else if (location) {
                    displayAddress = location;
                } else {
                    displayAddress = data.addressInfo.display_name || "Endere√ßo n√£o dispon√≠vel";
                }

                const addressCell = row.insertCell();
                addressCell.textContent = displayAddress;
                if (data.isCentral && !displayAddress) {
                    addressCell.textContent = "Coordenada Central Pesquisada";
                }
            });
        }

        function getRandomPointInRadius(centerLat, centerLng, radiusKm) {
            const y0 = centerLat; const x0 = centerLng; const rd = radiusKm / R_EARTH;
            const u = Math.random(); const v = Math.random();
            const w = rd * Math.sqrt(u); const t = 2 * Math.PI * v;
            const x = w * Math.cos(t); const y = w * Math.sin(t);
            const new_x = x / Math.cos(toRadians(y0));
            return { lat: y0 + toDegrees(y), lng: x0 + toDegrees(new_x) };
        }

        function toRadians(degrees) { return degrees * Math.PI / 180; }
        function toDegrees(radians) { return radians * 180 / Math.PI; }

        // Fun√ß√£o para abreviar nomes de ruas
        function abbreviateStreetName(streetName) {
            if (!streetName) return streetName;

            const abbreviations = {
                'Rua': 'R.',
                'Avenida': 'Av.',
                'Travessa': 'Tv.',
                'Alameda': 'Al.',
                'Pra√ßa': 'P√ß.',
                'Largo': 'Lg.',
                'Estrada': 'Est.',
                'Rodovia': 'Rod.',
                'Via': 'V.',
                'Beco': 'Bc.',
                'Quadra': 'Qd.',
                'Lote': 'Lt.',
                'Conjunto': 'Cj.',
                'Setor': 'St.',
                'Distrito': 'Dt.',
                'Fazenda': 'Fz.',
                'S√≠tio': 'St.',
                'Ch√°cara': 'Ch.'
            };

            let result = streetName;
            for (const [full, abbrev] of Object.entries(abbreviations)) {
                const regex = new RegExp(`\\b${full}\\b`, 'gi');
                result = result.replace(regex, abbrev);
            }

            return result;
        }

        async function reverseGeocode(lat, lng, userAgent) {
            const url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lng}&accept-language=pt&addressdetails=1&zoom=16&extratags=1&namedetails=1`;
            try {
                const response = await fetch(url, { headers: { 'User-Agent': userAgent } });
                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    console.error("Erro Nominatim:", response.status, errorData);
                    throw new Error(`API Nominatim: ${response.status} - ${errorData.error || response.statusText}`);
                }
                const data = await response.json();

                if (!data.address) { 
                     console.warn("Nenhum detalhe de endere√ßo retornado para:", lat, lng, data);
                     // Criar um endere√ßo b√°sico com as coordenadas
                     return {
                         address: {
                             road: `Coordenada ${lat.toFixed(6)}, ${lng.toFixed(6)}`,
                             city: data.display_name ? data.display_name.split(',')[0] : 'Local n√£o identificado'
                         },
                         display_name: data.display_name || `${lat.toFixed(6)}, ${lng.toFixed(6)}`
                     };
                }

                // Aplicar abrevia√ß√µes aos nomes das ruas
                if (data.address.road) {
                    data.address.road = abbreviateStreetName(data.address.road);
                }
                if (data.address.pedestrian) {
                    data.address.pedestrian = abbreviateStreetName(data.address.pedestrian);
                }
                if (data.address.footway) {
                    data.address.footway = abbreviateStreetName(data.address.footway);
                }

                return { address: data.address, display_name: data.display_name };
            } catch (error) {
                console.error("Falha na geocodifica√ß√£o inversa:", error);
                // Retornar um endere√ßo b√°sico em caso de erro
                return {
                    address: {
                        road: `Coordenada ${lat.toFixed(6)}, ${lng.toFixed(6)}`,
                        city: 'Localiza√ß√£o n√£o identificada'
                    },
                    display_name: `${lat.toFixed(6)}, ${lng.toFixed(6)}`
                };
            }
        }

        function copyToClipboard(textToCopy, successMessage, failureMessage) {
            const textarea = document.createElement('textarea');
            textarea.value = textToCopy;
            textarea.style.position = 'fixed'; 
            textarea.style.opacity = 0; 
            document.body.appendChild(textarea);
            textarea.select(); 

            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showModal(successMessage);
                } else {
                    showModal(failureMessage);
                }
            } catch (err) {
                console.error('Erro ao copiar:', err);
                showModal('Erro ao copiar. Verifique o console.');
            }
            document.body.removeChild(textarea);
        }

        function showModal(message) {
            const modal = document.getElementById('customModal');
            const modalMessageText = document.getElementById('modalMessageText');
            modalMessageText.textContent = message;
            modal.style.display = "block";
        }

        function closeModal() {
            const modal = document.getElementById('customModal');
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            const modal = document.getElementById('customModal');
            if (event.target == modal) closeModal();
        }

        function showMessage(text, isError = true) {
            const messageArea = document.getElementById('messageArea');
            messageArea.textContent = text;
            messageArea.className = `mb-6 text-sm text-center ${isError ? 'text-red-500 dark:text-red-300' : 'text-green-600 dark:text-green-300'}`;
        }

        // Inicializar com navega√ß√£o
        showNavigationView();
    </script>
</body>
</html>